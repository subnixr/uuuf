{"version":3,"file":"uuuf.js","mappings":"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","sources":["webpack://uuuf/webpack/universalModuleDefinition","webpack://uuuf/./src/Component.ts","webpack://uuuf/./src/css.ts","webpack://uuuf/./src/dom.ts","webpack://uuuf/./src/events.ts","webpack://uuuf/./src/loadComponents.ts","webpack://uuuf/./src/objtree.ts","webpack://uuuf/./src/utils.ts","webpack://uuuf/./node_modules/auto-bind/index.js","webpack://uuuf/webpack/bootstrap","webpack://uuuf/webpack/runtime/define property getters","webpack://uuuf/webpack/runtime/hasOwnProperty shorthand","webpack://uuuf/webpack/runtime/make namespace object","webpack://uuuf/./src/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"uuuf\"] = factory();\n\telse\n\t\troot[\"uuuf\"] = factory();\n})(self, () => {\nreturn ","import { querySelect, QueryResult, QuerySelector } from './dom';\nimport { CSSClass, cssClassNames } from './css';\nimport * as objtree from './objtree';\nimport { ObjectTree } from './objtree';\nimport { bind, unbind, emit, RemovableHandlerMap, HandlerMap } from './events';\n\nimport autoBind from 'auto-bind';\n\nexport type HTMLElementComponent = HTMLElement & { component: typeof Component };\n\nexport type DOMDefinition = QuerySelector | [QuerySelector, HandlerMap | undefined];\n\nexport class Component {\n    elem: HTMLElementComponent;\n    args: { [key: string]: any };\n    css: ObjectTree<CSSClass>;\n    dom: ObjectTree<QueryResult>;\n    _handlers: ObjectTree<RemovableHandlerMap>;\n\n    // Declarations\n    get CSS(): ObjectTree<string> {\n        return {\n            /*\n            myClass: 'my-class',\n            */\n        };\n    }\n\n    get DOM(): ObjectTree<DOMDefinition> {\n        return {\n            /*\n            myElement: '[data-my-element]',\n            myElement: ['[data-my-element]', {\n                click: () => console.log(\"hello, world!\"),\n            }],\n            myGroup: {\n                mySubGroup: {\n                    elem1: '[data-elem-1]',\n                    elem2: ['[data-elem-2]', {\n                        click: () => console.log(\"hello, world!\"),\n                    }]\n                }\n            },\n            */\n        };\n    }\n\n    // Component lifecycle\n    constructor(elem: HTMLElement) {\n        this.elem = elem as HTMLElementComponent;\n        this.args = JSON.parse(elem.dataset.args || '{}');\n\n        Object.defineProperties(this, {\n            _handlers: { enumerable: false, writable: true, value: {} },\n        });\n\n        this.css = cssClassNames(this.CSS);\n\n        autoBind(this); // automatic this.method = this.method.bind(this);\n    }\n\n    // called after all components are loaded\n    // should be overloaded rather than extended\n    async ready() {\n        this.bind();\n    }\n\n\n    // Methods\n    select() {\n        const domMapping = objtree.map(this.DOM, v => {\n            return Array.isArray(v) ? v[0] : v;\n        });\n        this.dom = querySelect(this.elem, domMapping);\n    }\n\n    bind() {\n        this.select();\n        this.unbind();\n        const handlersMapping = objtree.map(this.DOM, v => {\n            return Array.isArray(v) ? v[1] : undefined;\n        });\n        this._handlers = bind(this.dom, handlersMapping);\n    }\n\n    unbind() {\n        unbind(this._handlers);\n    }\n\n    emit(name: string, detail: any, bubbles = true) {\n        emit(this.elem, name, detail, bubbles);\n    }\n\n    async mix(component: typeof Component, elem = this.elem): Promise<Component> {\n        const instance = new component(elem);\n        await instance.ready();\n        return instance;\n    }\n\n    is(e: any): boolean {\n        return e === this.elem;\n    }\n}\n","import * as objtree from './objtree';\nimport { ObjectTree } from './objtree';\n\nexport interface CSSClass {\n    (elem: HTMLElement, toggle?: boolean): boolean,\n    match(elem: HTMLElement): boolean,\n    toString(): string,\n}\n\n// Builds a convenient function to apply and test css classes to elements\nexport function cssClass(className: string): CSSClass {\n    const toggleFn = (elem: HTMLElement, toggle = true) => elem.classList.toggle(className, toggle);\n    toggleFn.match = (elem: HTMLElement) => elem.classList.contains(className);\n    toggleFn.toString = () => className;\n    return toggleFn;\n}\n\n// Builds a convenient function to apply css classes to elements\nexport function cssClassNames(\n    classNameMap: ObjectTree<string>\n): ObjectTree<CSSClass> {\n    return objtree.map(classNameMap, cssClass);\n}\n","import * as objtree from './objtree';\nimport { ObjectTree } from './objtree';\n\ntype QueryPredicate = string | ((e: HTMLElement) => boolean);\n\n// traverses dom tree returning a list of matched elements by `predicate`,\n// without descending further into matches.\nexport function query(\n    root: HTMLElement | HTMLElement[],\n    predicate: QueryPredicate\n): HTMLElement[] {\n    let p: (elem: HTMLElement) => boolean;\n    if (typeof predicate === 'function') p = predicate;\n    else p = elem => elem.matches(predicate);\n\n    function findMatches(elem: HTMLElement): HTMLElement[] {\n        if (p(elem)) return [elem];\n        return Array.from(elem.children).map(findMatches).flat();\n    };\n    if (!Array.isArray(root)) root = [root];\n    return Array.from(root).map(findMatches).flat();\n}\n\nenum SelectorType {\n    All = 'all',\n    Query = 'query',\n}\n\nexport type QuerySelector = string | { type: SelectorType, toString(): string };\n\nfunction selector(\n    type: SelectorType,\n    strings: string[],\n    ...values: any[]\n): QuerySelector {\n    const query = strings[0] + strings.slice(1).map((s, i) => values[i] + s);\n\n    // cirumvent objtree.map object detection with hidden props\n    return Object.create(null, {\n        toString: { value: () => query },\n        type: { value: type },\n    });\n}\n\nexport type SelectorMaker = (string: string[], ...value: any[]) => QuerySelector;\n\nexport function $$(strings: string[], ...values: any[]): QuerySelector {\n    return selector(SelectorType.Query, strings, ...values);\n}\n\nexport function $ALL(strings: string[], ...values: any[]): QuerySelector {\n    return selector(SelectorType.All, strings, ...values);\n}\n\nexport type QueryResult = Element | HTMLElement | HTMLElement[];\n\n// Query DOM from `elem`, returning map of results\nexport function querySelect(\n    elem: HTMLElement,\n    selectorMap: ObjectTree<QuerySelector>\n): ObjectTree<QueryResult> {\n    return objtree.map(selectorMap, selector => {\n        if (typeof selector === 'string') return elem.querySelector(selector);\n        if (selector.type === SelectorType.Query) return query(elem, selector.toString());\n        if (selector.type === SelectorType.All) return Array.from(elem.querySelectorAll(selector.toString()));\n    });\n}\n","import { reduceObject } from './utils';\nimport * as objtree from './objtree';\nimport { ObjectTree} from './objtree';\nimport { QueryResult } from './dom';\n\nexport type Handler = (evt: Event) => void\nexport type HandlerMap = { [event: string]: Handler }\n\nexport type RemovableHandler = { (): Handler, remove(): void }\nexport type RemovableHandlerMap = { [event: string]: RemovableHandler }\n\n// Emit custom events from target element\nexport function emit(\n    elem: HTMLElement,\n    name: string,\n    detail: any,\n    bubbles = true\n): void {\n    const evt = new CustomEvent(name, { bubbles, detail });\n    elem.dispatchEvent(evt);\n}\n\nfunction withRemove(fn: Function, remove = () => {}): RemovableHandler {\n    // cleanest known way to clone a function\n    // it's acceptable because `get DOM()` only uses arrow function or bound methods\n    const cloned = fn.bind(null);\n    cloned.remove = remove;\n    return cloned;\n}\n\nfunction makeRemovableHandler(\n    elem: QueryResult,\n    eventName: string,\n    handler: Handler,\n): RemovableHandler {\n    if (!elem) {\n        return withRemove(handler);\n    }\n\n    if (Array.isArray(elem)) {\n        elem.forEach(e => e.addEventListener(eventName, handler));\n        return withRemove(handler, () => {\n            elem.forEach(e => e.removeEventListener(eventName, handler));\n        });\n    }\n\n    elem.addEventListener(eventName, handler);\n    return withRemove(handler, () => {\n        elem.removeEventListener(eventName, handler);\n    });\n}\n\n// Adds event listeners to elements\nexport function bind(\n    elemTree: ObjectTree<QueryResult>,\n    handlerTree: ObjectTree<HandlerMap>\n): ObjectTree<RemovableHandlerMap> {\n    return objtree.map(elemTree, (elem, ks) => {\n        const hm = objtree.get<HandlerMap>(handlerTree, ks);\n        if (!hm) return;\n        return reduceObject(hm as { [key: string]: Handler}, {}, (\n            ht: ObjectTree<RemovableHandlerMap>,\n            handler: Handler,\n            eventName: string,\n        ) => {\n            const rh = makeRemovableHandler(elem, eventName, handler);\n            return { ...ht, [eventName]: rh }\n        }) as RemovableHandlerMap;\n    });\n}\n\n// Removes event listeners to elements\nexport function unbind(handlerMap: ObjectTree<RemovableHandlerMap>) {\n    objtree.map(handlerMap, handler => {\n        handler.remove();\n    });\n}\n","import { Component } from './Component';\nimport { query } from './dom';\n\nexport type LoadComponentsFn = (\n    root: HTMLElement | HTMLElement[] | HTMLCollection,\n    extraPredicate: ((elem: HTMLElement) => boolean)\n) => Promise<void>\n\nexport interface MakeLoadComponentsOptions {\n    componentSelector?: (string),\n    getComponentName?: (elem: HTMLElement) => string,\n}\n\nconst DEFAULT = {\n    componentSelector: '[data-js-component]',\n    getComponentName: (elem: HTMLElement): string => elem.dataset.jsComponent,\n    // eslint-disable-next-line no-unused-vars\n    importComponent: async (compName: string): Promise<typeof Component> => {\n        throw new Error(`importComponent is not implemented`);\n    },\n};\n\nexport function makeLoadComponents(\n  importComponent: (componentName: string) => Promise<typeof Component>,\n  { componentSelector, getComponentName }: MakeLoadComponentsOptions = {}\n): LoadComponentsFn {\n    if (typeof importComponent !== 'function') throw new Error(`importComponent must be a function`);\n\n    if (typeof componentSelector === 'undefined') componentSelector = DEFAULT.componentSelector\n    if (typeof getComponentName === 'undefined') getComponentName = DEFAULT.getComponentName\n\n    function isComponent(e: HTMLElement): boolean {\n        return e.matches(componentSelector) && Boolean(getComponentName(e));\n    }\n\n    function isNotLoaded(e: HTMLElement & { component?: typeof Component}): boolean {\n        return !e.component;\n    }\n\n    return async function loadComponents(\n        root: HTMLElement | HTMLElement[] | HTMLCollection,\n        extraPredicate: ((elem: HTMLElement) => boolean) = () => true\n    ): Promise<void> {\n        let r: HTMLElement[];\n        if (root instanceof HTMLCollection) r = Array.from(root) as HTMLElement[];\n        else if (root instanceof HTMLElement) r = [root] as HTMLElement[];\n        else r = root as HTMLElement[];\n\n        const predicate = (e: HTMLElement): boolean => {\n            return isComponent(e) && isNotLoaded(e) && extraPredicate(e);\n        };\n\n        const comps: Promise<Component>[] = query(r, predicate).map(async el => {\n            const compName = getComponentName(el);\n            const comp = await importComponent(compName);\n            return new (comp as typeof Component)(el);\n        });\n\n        return Promise.all(comps).then(async cs => {\n            for (const c of cs) {\n                Object.defineProperty(c.elem, 'component', {\n                    configurable: true,\n                    writable: false,\n                    enumerable: false,\n                    value: c,\n                })\n                await c.ready();\n            }\n        });\n    };\n}","import { reduceObject } from \"./utils\";\n\nexport interface ObjectTree<A> {\n    [key: string]: ObjectTree<A> | A\n}\n\nfunction defined(v: any): boolean {\n    return typeof v !== 'undefined' && v !== null;\n}\n\n// Walk to a specific node in the tree\nexport function get<A>(\n    tree: ObjectTree<A>,\n    path: string | string[],\n): ObjectTree<A> | A | undefined {\n    let ks: Array<string>;\n    if (typeof path === 'string') ks = path.split('.');\n    else ks = [...path];\n\n    const res = ks.reduce((r, k) => !defined(r) ? r : r[k], tree);\n    return res === null ? undefined : res;\n};\n\ntype ObjtreeMapFn<A, B> = (v: A, ks: string[], k: string) => B;\n\nfunction innerMap<A, B>(\n    tree: ObjectTree<A>,\n    f: ObjtreeMapFn<A, B>,\n    ks: string[] = []\n): ObjectTree<B> {\n    return reduceObject(tree as { [key: string]: A}, {}, (acc, v, k) => {\n        if (defined(v) && v.constructor === Object) {\n            return { ...acc, [k]: innerMap(v as ObjectTree<A>, f, [...ks, k]) };\n        }\n        const nextv = f(v, [...ks, k], k);\n        if (typeof nextv === 'undefined') return { ...acc };\n        return { ...acc, [k]: nextv };\n    });\n}\n\n// Maps function to tree leaves\nexport function map<A, B>(\n    tree: ObjectTree<A>,\n    f: ObjtreeMapFn<A, B>\n): ObjectTree<B> {\n    return innerMap(tree, f);\n}\n","// Checks if the value is not undefined and not null\n// Ergonomic shortcut for Object.entries(...).reduce(...)\nexport function reduceObject<A, B>(\n    obj: { [key: string]: A },\n    init: any,\n    f: (acc: B, v: A, k: string) => B\n): B {\n    return Object.entries(obj).reduce((acc, [k, v]) => {\n        return f(acc, v, k);\n    }, init);\n}\n","// Gets all non-builtin properties up the prototype chain.\nconst getAllProperties = object => {\n\tconst properties = new Set();\n\n\tdo {\n\t\tfor (const key of Reflect.ownKeys(object)) {\n\t\t\tproperties.add([object, key]);\n\t\t}\n\t} while ((object = Reflect.getPrototypeOf(object)) && object !== Object.prototype);\n\n\treturn properties;\n};\n\nexport default function autoBind(self, {include, exclude} = {}) {\n\tconst filter = key => {\n\t\tconst match = pattern => typeof pattern === 'string' ? key === pattern : pattern.test(key);\n\n\t\tif (include) {\n\t\t\treturn include.some(match); // eslint-disable-line unicorn/no-array-callback-reference\n\t\t}\n\n\t\tif (exclude) {\n\t\t\treturn !exclude.some(match); // eslint-disable-line unicorn/no-array-callback-reference\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tfor (const [object, key] of getAllProperties(self.constructor.prototype)) {\n\t\tif (key === 'constructor' || !filter(key)) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst descriptor = Reflect.getOwnPropertyDescriptor(object, key);\n\t\tif (descriptor && typeof descriptor.value === 'function') {\n\t\t\tself[key] = self[key].bind(self);\n\t\t}\n\t}\n\n\treturn self;\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/*\n                     _                    _\n                  ,/                        \\,\n        _________{(                          })_________\n       /.-------./\\\\                        //\\.-------.\\\n      //@@@@@@@//@@\\\\  )                (  //@@\\\\@@@@@@@\\\\\n     //@@@@@@@//@@@@>>/                  \\<<@@@@\\\\@@@@@@@\\\\\n    //O@O@O@O//@O@O//                      \\\\O@O@\\\\O@O@O@O\\\\\n  //OOOOOOOO//OOOO||          \\  /          ||OOOO\\\\OOOOOOOO\\\\\n //O%O%O%O%//O%O%O%\\\\         ))((         //%O%O%O\\\\%O%O%O%O\\\\\n||%%%%%%%%//'  `%%%%\\\\       //  \\\\       //%%%%'   `\\\\%%%%%%%||\n((%%%%%%%((      %%%%%\\\\    ((    ))    //%%%%%       ))%%%%%%))\n \\:::' `::\\\\      `:::::\\\\   \\)~~(/    //:::::'      //::' `:::/\n  )'     `;)'      (`  ` \\\\ `<@  @>' / / '  ')      `(;'     `(\n          (               \\`\\ )^^( /  /               )\n        _                  ) \\\\oo/   (\n       (@)                  \\  `'   /                      _\n       |-|\\__________________\\__^__<________oOo__________ (@)\n       | |                                  VVV          \\|-|\n       |-|   uuuf: Undoubtedly Useful Utility Functions   |-|\n       |_|\\_____________________________________________  | |\n       (@)                 / ,/ \\_____/ \\\\ ~\\/~         `\\|-|\n        ~             ___//^~      \\____/\\\\               (@)\n                     <<<  \\     __  <____/||               ~\n                               <   \\ <___/||\n                                  || <___//\n                                  \\ \\/__//\n                                   ~----~\n*/\n\nexport { Component } from './Component';\nexport { makeLoadComponents } from './loadComponents';\nexport { query, $$, $ALL } from './dom';\nexport { emit } from './events';\n\n// export internals\nexport * as tree from './objtree';\nexport * as css from './css';\nexport * as dom from './dom';\nexport * as events from './events';"],"names":[],"sourceRoot":""}